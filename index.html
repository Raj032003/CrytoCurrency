<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initialscale=1.0">
    <title>CryptoVerse Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            transition: background 0.3s ease-in-out;
        }
        .dashboard {
            display: flex;
        }
        /* Sidebar */
        .sidebar {
            width: 250px;
            height: 100vh;
            background: #2c3e50;
            color: white;
            padding: 20px;
            position: fixed;
        }
        .sidebar h2 {
            text-align: center;
        }
        .sidebar ul {
            list-style: none;
            padding: 0;
        }
        .sidebar ul li {
            padding: 15px 0;
        }
        .sidebar ul li a {
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        .sidebar ul li a i {
            margin-right: 10px;
        }
        /* Main Content */
        .main-content {
            margin-left: 270px;
            padding: 20px;
            width: calc(100% - 270px);
        }
        /* Search Bar */
        .search-bar {
            text-align: center;
            margin-bottom: 20px;
        }
        .search-input {
            padding: 10px;
            width: 80%;
            max-width: 400px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        /* Stat Cards */
        .stats {
            display: flex;
            gap: 15px;
        }
        .card {
            flex: 1;
            padding: 15px;
            background: #2c3e50;
            color: whitesmoke;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            border-radius: 8px;
        }
        /* Tables */
        .crypto-list {
            margin-top: 20px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background: #2c3e50;
            color: white;
        }
        /* Charts */
        .charts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        /* Top Cryptos Grid */
        .top-cryptos {
            margin-top: 40px;
            text-align: center;
        }

        .top-cryptos h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
        }

        /* Grid Layout */
        .crypto-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* 5 columns for better spacing */
            gap: 20px;
            justify-items: center;
        }

        /* Individual Crypto Card */
        .crypto-card {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .crypto-card:hover {
            transform: scale(1.05); /* Slight hover effect */
        }

        /* Crypto Logo (symbol) */
        .crypto-logo {
            width: 40px;
            height: 40px;
            margin-bottom: 10px;
        }

        /* Crypto Name */
        .crypto-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        /* Price Change Indicator (Up and Down) */
        .price-change {
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s ease-in-out;
        }

        .price-change.up {
            color: green;
            background-color: rgba(0, 255, 0, 0.1);
            transform: scale(1.1);
        }

        .price-change.down {
            color: red;
            background-color: rgba(255, 0, 0, 0.1);
            transform: scale(1.1);
        }

        .price-change.arrow {
            display: inline-block;
            margin-left: 5px;
        }

        .price-change.up::after {
            content: "↑";
            color: green;
        }

        .price-change.down::after {
            content: "↓";
            color: red;
        }

    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <h2>CryptoVerse</h2>
            <ul>
                <li><a href="#"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="#"><i class="fas fa-chart-line"></i> Market Trends</a></li>
            </ul>
            <button><a href="login.html">Logout</a></button>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <header>
                <h1>Crypto Market Overview</h1>
            </header>

            <!-- Search Bar -->
            <div class="search-bar">
                <input type="text" class="search-input" id="searchInput" placeholder="Search for a cryptocurrency...">
            </div>

            <!-- Top 10 Cryptos Grid with Price Movement -->
            <div class="top-cryptos">
                <h2>Top 10 Cryptocurrencies</h2>
                <div class="crypto-grid" id="cryptoGrid"></div>
            </div>
           
            <!-- Floating Stat Cards -->
            <div class="stats">
                <div class="card" id="btc-price">BTC Price: $--</div>
                <div class="card" id="market-cap">Market Cap: $--</div>
                <div class="card" id="change">24h Change: --%</div>
                <div class="card" id="volume">24h Volume: $--</div>
            </div>

            <!-- Crypto Table -->
            <div class="crypto-list">
                <h2>Cryptocurrency Prices</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Price (USD)</th>
                            <th>24h Change</th>
                        </tr>
                    </thead>
                    <tbody id="cryptoBody"></tbody>
                </table>
            </div>


            <!-- Charts -->
            <div class="charts">
                <canvas id="lineChart"></canvas>
                <canvas id="barChart"></canvas>
                <canvas id="pieChart"></canvas>
                <canvas id="scatterChart"></canvas>
            </div>
        </div>
    </div>
   

    <script>
        const cryptoTableBody = document.getElementById('cryptoBody');
        const btcPrice = document.getElementById('btc-price');
        const marketCap = document.getElementById('market-cap');
        const change = document.getElementById('change');
        const volume = document.getElementById('volume');
        const cryptoGrid = document.getElementById('cryptoGrid');
        const searchInput = document.getElementById('searchInput');

        let allData = [];  // To store all cryptocurrency data

        // Fetch crypto data
        async function fetchCryptoData() {
            const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd');
            const data = await response.json();
            allData = data;  // Store the data for later use
            return data;
        }

        // Update stats
        function updateStats(data) {
            btcPrice.textContent = `BTC Price: $${data[0].current_price}`;
            marketCap.textContent = `Market Cap: $${data[0].market_cap.toLocaleString()}`;
            change.textContent = `24h Change: ${data[0].price_change_percentage_24h.toFixed(2)}%`;
            volume.textContent = `24h Volume: $${data[0].total_volume.toLocaleString()}`;
        }

        // Populate the Top 10 Cryptocurrencies with price change visualization
        function populateTopCryptos(data) {
            const top10Cryptos = data.slice(0, 10);  // Get top 10 cryptocurrencies
            cryptoGrid.innerHTML = '';  // Clear any previous content

            top10Cryptos.forEach(coin => {
                const card = document.createElement('div');
                card.classList.add('crypto-card');
                
                card.innerHTML = `
                    <img src="${coin.image}" alt="${coin.name}" class="crypto-logo">
                    <div class="crypto-name">${coin.name}</div>
                    <div class="price-change ${coin.price_change_percentage_24h < 0 ? 'down' : 'up'}">
                        ${coin.price_change_percentage_24h.toFixed(2)}%
                    </div>
                `;
                cryptoGrid.appendChild(card);
            });
        }

        // Populate table
        function populateTable(data) {
            cryptoTableBody.innerHTML = "";
            data.slice(0, 10).forEach(coin => {
                const row = `<tr>
                    <td>${coin.name}</td>
                    <td>$${coin.current_price.toLocaleString()}</td>
                    <td style="color: ${coin.price_change_percentage_24h < 0 ? 'red' : 'green'}">
                        ${coin.price_change_percentage_24h.toFixed(2)}%
                    </td>
                </tr>`;
                cryptoTableBody.innerHTML += row;
            });
        }

        // Filter data based on search input
        function filterData(query) {
            const filteredData = allData.filter(coin => coin.name.toLowerCase().includes(query.toLowerCase()));
            populateTable(filteredData);
            populateTopCryptos(filteredData);
        }

        // Add event listener for search input
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value;
            filterData(query);
        });

        // Fetch and update the data
        function fetchAndUpdate() {
            fetchCryptoData().then(data => {
                updateStats(data);
                populateTable(data);
                populateTopCryptos(data);
            });
        }

        // Initial fetch and update
        fetchAndUpdate();
        setInterval(fetchAndUpdate, 60000);
    </script>
</body>
</html>
